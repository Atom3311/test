# Telegram Bot (MVP)

Telegram-бот для регулярной психологической поддержки
на основе доказательных методов (КПТ, ACT, DBT).

⚠️ Не является медицинской или экстренной помощью.

## Функции MVP
- онбординг и согласие пользователя
- терапевтические текстовые сессии
- межсессионная оценка состояния
- кризисная логика (суицид, селфхарм)
- легковесная память (краткое резюме сессий)
- поддержка по кнопке (дыхание/упражнение 5-4-3-2-1)
- темы (тревога/выгорание/отношения)
- экспорт переписки в файл
- мягкая авто-оценка состояния раз в несколько дней

## Стек
- Python 3.11
- aiogram
- Supabase (Postgres)
- LLM API (Groq)
- RAG (заглушка)
  - локальные файлы для логов

## Запуск
python -m venv .venv  
source .venv/bin/activate  
pip install -r requirements.txt  
cp .env.example .env  
заполните BOT_TOKEN, GROQ_API_KEY, SUPABASE_URL и SUPABASE_KEY в .env  
если нужны голосовые сообщения — установите ffmpeg и добавьте VOSK_MODEL_PATH  
для отладки можно добавить STT_ECHO=1 (бот покажет расшифровку)  
выполните `database_schema.sql` в Supabase  
python app/main.py

## Команды
- /start — начать
- /checkin — оценка состояния
- /focus — выбрать тему
- /info — анкета пользователя
- /export — экспорт переписки
- /reset — сбросить контекст

## Кнопки
- Главное меню: Настройки общения, Оценка состояния, Быстрая помощь
- В настройках: Выбрать тему, Сбросить контекст, Главное меню

## Данные
- `data/analytics.jsonl` — анонимные события
- `logs/bot.log` — логи приложения
